{"version":3,"sources":["components/Graphics/index.js","components/Controls/index.js","components/Infobar/index.js","components/HelpText/index.js","mathUtils.js","components/Linalg/index.js","gl/index.js","gl/build/vert.js","gl/build/frag.js","App.js","serviceWorker.js","index.js"],"names":["handleMouseMove","e","setX","width","height","pos","undefined","nativeEvent","targetTouches","touches","pageX","pageY","idx","Math","floor","window","innerWidth","innerHeight","baseOffset","round","Tooltip","x","N","className","square","minus","Graphics","base","setHighlighted","useState","X","faded","setFaded","useEffect","setTimeout","id","onMouseMove","onTouchMove","plus","autosieve","Controls","state","setN","sieve","setHighlight","setCellSize","linalgOpen","Nstr","error","helper","textState","setTextState","value","cellTextState","setCellTextState","doAutosieve","console","log","TextField","placeholder","onChange","v","parseInt","isNaN","length","bigInt","handleTextChange","target","autoFocus","fullWidth","style","marginLeft","disabled","helperText","type","s","handleCellChange","Button","textTransform","whiteSpace","onClick","variant","color","onMouseOver","onMouseLeave","marginRight","p","Checkbox","checked","htmlFor","Entry","name","Infobar","relations","factorBase","onFinish","shift","done","HelpText","onClose","open","setOpen","handleClose","stopPropagation","legendre","a","modPow","isqrt","n","leq","L","R","neq","M","divide","times","MAX","Array","fill","i","sqrt","j","primeList","push","argmin","arr","max","min","out","ixor","b","nullSpace","mat","k","pivots","map","row","indexOf","filter","pivotSet","Set","count","has","output","completeFactorization","y","matrix","cols","rows","slice","temp","rowReduce","nullity","nullVec","mod","abs","c","Linalg","result","setResult","setError","maxRelations","bad","r","xx","yy","lt","eq","curr","matT","includes","computeMatrix","l","gcd","q","toString","gl","currentState","nextState","framebuffer","program","pass","highlight","highlightMod","highlightAlt","logSqrtN","delta","prime","residue","uniforms","createShader","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","createTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","initializeTexture","texImage2D","RGBA","UNSIGNED_BYTE","uniform2f","resolution","setState","uniform1f","initGL","canvas","document","getElementById","getContext","vert","VERTEX_SHADER","frag","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","getProgramInfoLog","deleteProgram","positionAttr","getAttribLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","bufferData","Float32Array","STATIC_DRAW","createScreen","createFramebuffer","Object","entries","key","getUniformLocation","createUniforms","handleResize","viewport","updateSieve","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","drawArrays","TRIANGLES","renderSieve","getSieve","qr","z","add","t","m","t2","modSqrt","res","highlightOff","setGLUniform","App","rawSetN","setBase","pIdx","setP","cellSize","setRelations","openLinalg","setOpenLinalg","sqrtN","initSieve","ceil","preventDefault","highlightResidues","t1","suppressRender","shouldRender","data","Uint8Array","readPixels","getRelations","addEventListener","passive","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.74bb7515.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport {InlineMath} from 'react-katex';\n\nimport './index.css';\n\n\nfunction handleMouseMove(e, setX, width, height) {\n    e = e.nativeEvent;\n\n    let pos = null;\n    if (e.targetTouches !== undefined) {\n        const touches = e.targetTouches;\n        pos = [touches[0].pageX, touches[0].pageY];\n    } else {\n        pos = [e.pageX, e.pageY];\n    }\n\n    const idx = [\n        Math.floor(pos[0]/window.innerWidth * width),\n        Math.floor((1-pos[1]/window.innerHeight) * height)\n    ];\n    const baseOffset = Math.round(width * height/2);\n    setX(idx[1] * width + idx[0] - baseOffset);\n}\n\nfunction Tooltip({x, N}) {\n    return <div className='tooltip'>\n        <InlineMath>{`x = ${x}`}</InlineMath>\n        <InlineMath>{`x^2 - N = ${x.square().minus(N)}`}</InlineMath>\n    </div>\n}\n\nfunction Graphics({width, height, base, N, setHighlighted}) {\n    const [X, setX] = useState(null);\n    const [faded, setFaded] = useState(false);\n\n    useEffect(() => {\n        if (X !== null) {\n            setHighlighted(X);\n            setFaded(false);\n            setTimeout(() => {setFaded(true);}, 3000);\n        }\n    }, [X, setHighlighted]);\n\n    return <>\n        <div className='loading'>Loading...</div>\n        <canvas\n            id='canvas'\n            width={width} height={height}\n            onMouseMove={(e) => handleMouseMove(e, setX, width, height)}\n            onTouchMove={(e) => handleMouseMove(e, setX, width, height)}\n        />\n        {X === null ? null : <Tooltip x={base.plus(X)} N={N} faded={faded}/>}\n        <style>{`\n            .tooltip {\n               opacity: ${faded ? 0 : 1};\n               transition: ${faded ? 2 : 0.1}s opacity ease-out;\n            }\n        `}</style>\n    </>;\n}\n\nexport default Graphics;\n","import React, {useState, useEffect} from 'react';\n\nimport bigInt from 'big-integer';\n\nimport {InlineMath} from 'react-katex';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport './index.css';\n\nfunction handleTextChange(v, setN, setTextState) {\n    const value = parseInt(v);\n    if (value > 0 & !isNaN(v) & !isNaN(value)) {\n        if (v.length > 30) {\n            setTextState({Nstr: v, error: false, helper: 'Might take too long to factor'});\n        } else {\n            setTextState({Nstr: v, error: false, helper: ' '});\n        }\n        setN(bigInt(v));\n    } else {\n        setTextState({Nstr: v, error: true, helper: 'Must be a positive integer'});\n    }\n}\n\nlet autosieve = false;\n\nfunction Controls({state, setN, sieve, setHighlight, setCellSize, linalgOpen}) {\n    const [textState, setTextState] = useState({\n        Nstr: '853972440679',\n        error: false,\n        helper: ' ',\n    });\n    const [cellTextState, setCellTextState] = useState({\n        value: '30',\n        error: false\n    });\n\n    function doAutosieve() {\n        if (linalgOpen) {autosieve = false;}\n        if (!autosieve) {return;}\n        setTimeout(() => sieve(true), 1);\n        console.log('autosieve', autosieve);\n    }\n\n    useEffect(doAutosieve, [state]);\n\n    function handleCellChange(s) {\n        const value = parseInt(s);\n        if (value > 0 & value <= 300) {\n            setCellSize(s);\n            setCellTextState({value: s, error: false});\n        } else {\n            setCellTextState({value: s, error: true});\n        }\n    }\n\n\n    return <div id='controls'>\n        <div className='input-wrapper'>\n            <div className='N'>\n            <InlineMath>N =</InlineMath>\n            </div>\n            <TextField\n                id='number-input'\n                placeholder='Enter an integer to factor'\n                error={textState.error}\n                value={textState.Nstr}\n                onChange={e => handleTextChange(e.target.value, setN, setTextState)}\n                autoFocus\n                fullWidth\n                style={{marginLeft:10}}\n                disabled={autosieve}\n                helperText={textState.helper}\n            />\n            <div className='cell-size'>\n            <TextField\n                type='number' \n                helperText='Cell Size'\n                value={cellTextState.value}\n                onChange={(e) => handleCellChange(e.target.value, setCellTextState)}\n                error={cellTextState.error}\n                disabled={autosieve}\n            />\n            </div>\n        </div>\n        <div className='sieve-wrapper'>\n            <Button\n                style={{textTransform: 'none', whiteSpace: 'nowrap'}}\n                onClick={() => sieve(false)}\n                variant='contained'\n                color='primary'\n                onMouseOver={() => setHighlight(window.innerWidth > 600)}\n                onMouseLeave={() => setHighlight(false)}\n                disabled={autosieve}\n            >\n                <span style={{marginRight: 5}}>Sieve</span>\n                <InlineMath>{`p = ${state.p}`}</InlineMath>\n            </Button>\n            <div className='checkbox-wrapper'>\n            <Checkbox\n                id='autosieve' color='primary'\n                checked={autosieve}\n                onChange={(e) => {autosieve = e.target.checked; sieve(); doAutosieve(sieve);}}\n            />\n                <label htmlFor='autosieve' style={{marginLeft: -5, marginRight: 10}}>Auto sieve</label>\n            </div>\n        </div>\n    </div>\n}\n\nexport default Controls;\n","import React  from 'react';\nimport Button from '@material-ui/core/Button';\nimport './index.css';\n\n\nfunction Entry({name, value}) {\n    return <div className='entry'>\n        <p className='name'>{name}</p>\n        <div className='value'>\n            {value}\n        </div>\n    </div>\n}\n\nconst safetyMargin = 5;\n\nfunction Infobar({relations, factorBase, base, shift, onFinish}) {\n    const done = relations.length > factorBase.length + safetyMargin;\n\n    return <div className='info-bar'>\n        <Entry name='Relations Needed' value={factorBase.length + 1 + safetyMargin}/>\n        <Entry name='Relations Found' value={relations.length}/>\n        <div className='finish'>\n            <Button disabled={!done} onClick={onFinish} variant='outlined'>Complete Factorization</Button>\n            {done ? null : <p className='warning'>Not enough relations! Sieve for longer, or decrease the cell size.</p>}\n        </div>\n        <div className='entry footer'>\n            <p className='caption'>\n                {'Made with <3 by Samuel J. Li'}</p>\n        </div>\n    </div>;\n}\n\nexport default Infobar;\n","import React, {useState} from 'react';\nimport {InlineMath} from 'react-katex';\nimport {IoIosCalculator as Icon} from 'react-icons/io';\nimport './index.css';\n\nfunction HelpText({onClose}) {\n    const [open, setOpen] = useState(true);\n\n    function handleClose() {\n        setOpen(false);\n        onClose();\n    }\n\n    return <>\n        <div \n           className={'help-container ' + (open ? 'open' : 'closed')}\n           onClick={handleClose}\n        >\n        <div className='help-text' onClick={(e) => e.stopPropagation()}>\n            <div className='header'>\n                <span className='icon'><Icon/></span>\n                <div className='title'>\n                    Quadratic Sieve\n                    <p className='subtitle'>Made with {'<3'} by Samuel J. Li</p>\n                </div>\n            </div>\n            <div className='help-content'>\n            The <b>quadratic sieve</b> is the second-fastest known method for factoring large integers. This is an interactive visualization of the sieving step in this algorithm.\n\n            <ul>\n                <li>Each square represents the output of the polynomial <InlineMath>x^2 - n</InlineMath> evaluated at a positive integer. Larger values are brighter.</li>\n                <li>During the sieving step, these outputs are divided by small primes, where possible. The pattern of divisibility by each prime is very regular, making this step quite efficient.</li>\n                <li>Values that reduce to 1 after the sieving step are <i>smooth</i>, and highlighted in red.</li>\n            </ul>\n            By collecting enough smooth numbers,\n            we can find a subcollection whose product is a square.\n            This can be done efficiently with linear algebra.\n\n            <p>This gives us two different integers <InlineMath>x, y</InlineMath> whose squares are equal modulo <InlineMath>n</InlineMath>. With high probability, the identity <InlineMath>x^2 - y^2 = (x+y) \\, (x-y)</InlineMath> then yields a factor of <InlineMath>n</InlineMath>.</p>\n            </div>\n\n            <button onClick={handleClose}>Got it!</button>\n            \n        </div></div>\n    </>\n}\n\nexport default HelpText;\n","import bigInt from 'big-integer';\n\nfunction legendre(a, p) {\n    return a.modPow((p-1)/2, p);\n}\n\n// Computes square root modulo p.\nfunction modSqrt(a, p) {\n    console.log('modSqrt', a, p);\n    if (p === 2) {return a;}\n    if (a.eq(0)) {return 0;}\n\n    // First check Legendre symbol\n    if (legendre(a, p).eq(p-1)) {\n        console.log('Not a QR');\n        return undefined;\n    }\n\n    // Tonelli-Shanks algorithm\n    let q = p-1;\n    let s = 0;\n    while (q % 2 === 0) {\n        q /= 2;\n        s += 1\n    }\n\n    if (s === 1) {\n        return a.modPow((p+1)/4, p);\n    }\n    let z = bigInt(2);\n    for (; z.lt(p); z = z.add(1)) {\n        if (legendre(z, p).eq(p-1)) {break;}\n    }\n\n    let c = z.modPow(q, p);\n    let r = a.modPow((q+1)/2, p);\n    let t = a.modPow(q, p);\n\n    let m = s;\n    let t2 = 0;\n    while ((t-1) % p !== 0) {\n        console.log(t);\n        t2 = (t*t) % p;\n\n        let i = 1;\n        for (i = 1; i < m; i++) {\n            if ((t2-1) % p === 0) {break;}\n            t2 = (t2 * t2) % p\n        }\n\n        let b = c.modPow(1 << (m-i-1), p);\n        r = r.times(b).mod(p);\n        c = b.times(b).mod(p);\n        t = (t * c) % p;\n        m = i;\n    }\n    return r;\n}\n\nfunction isqrt(n) {\n    if (n.leq(2)) { return n; }\n\n    let L = bigInt(0);\n    let R = n.plus(1);\n\n    while (R.minus(L).neq(1)) {\n        let M = L.plus(R).divide(2);\n        if (M.times(M).leq(n)) {\n            L = M;\n        } else {\n            R = M;\n        }\n    }\n    return L;\n}\n\n\n// Generate primes up to MAX\nconst MAX = 1000000;\nconst sieve = new Array(MAX).fill(true);\n\nsieve[0] = false;\nsieve[1] = false;\nfor (let i=2; i < Math.sqrt(MAX); i++) {\n    if (sieve[i]) {\n        for (let j = i*i; j < MAX; j+= i) {\n                sieve[j] = false;\n        }\n    }\n}\n\nconst primeList = [];\nfor (let i=2; i < MAX; i++) {\n\tif (sieve[i]) {primeList.push(i);}\n}\n\nexport {primeList, isqrt, modSqrt};\n","import React, {useState, useEffect} from 'react';\nimport {BlockMath} from 'react-katex';\n\nimport bigInt from 'big-integer';\nimport {isqrt} from '../../mathUtils';\n\nimport './index.css';\n\n\n// Finds index of smallest nonnegative entry.\nfunction argmin(arr, max) {\n    let min = max;\n    let out = null;\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i] >= 0 & arr[i] < min) {\n            min = arr[i];\n            out = i;\n        }\n    }\n    return out;\n}\n\n// In-place xor array a by array b.\nfunction ixor(a, b) {\n    for (let i = 0; i < a.length; i++) {\n        a[i] ^= b[i];\n    }\n}\n\n// Computes row-reduced echelon form (RREF) of a matrix over GF(2).\nfunction rowReduce(matrix) {\n    const cols = matrix[0].length;\n\n    // Gaussian elimination\n    const rows = matrix.length;\n    for (let i = 0; i < rows; i++) {\n        const pivots = matrix.slice(i).map(row => row.indexOf(1));\n        let target = argmin(pivots, cols);\n        if (target === null) {break;}\n        const j = pivots[target];\n        target += i;\n\n        console.log(target, j);\n\n        // Eliminate other rows\n        for (let k = 0; k < rows; k++) {\n            if (k !== target & matrix[k][j]) {\n                ixor(matrix[k], matrix[target]);\n            }\n        }\n\n        // Swap to ith position\n        let temp = matrix[i];\n        matrix[i] = matrix[target];\n        matrix[target] = temp;\n    }\n}\n\n// Computes kth vector in basis of null-space of a matrix (assumed to be in RREF).\nfunction nullSpace(mat, k) {\n    const pivots = mat.map(row => row.indexOf(1)).filter(i => i >= 0);\n    const pivotSet = new Set(pivots);\n\n    // Find first non-pivot column (guaranteed to exist)\n    let j = 0;\n    let count = 0;\n    for (; j < mat[0].length; j++) {\n        if (!pivotSet.has(j)) {count++;}\n        if (count > k) {break;}\n    }\n    const output = [j];\n\n    // Find all pivot columns including i\n    for (let i = 0; i < mat.length; i++) {\n        if (mat[i][j] === 1) {\n            console.log(i);\n            output.push(pivots[i]);\n        }\n    }\n    return output;\n}\n\nfunction computeMatrix(relations, factorBase, N, base) {\n    const x = []; // Polynomial inputs\n    const y = []; // Polynomial outputs\n    const mat = []; // Matrix of exponent vectors\n\n    const maxRelations = factorBase.length + 64; // Discard unnecessary relations\n\n    let bad = 0;\n    for (let r of relations) {\n        const xx = base.plus(r);\n        const yy = xx.times(xx).minus(N);\n\n        // Construct exponent vector\n        const row = [yy.lt(0) ? 1 : 0];\n        for (let p of factorBase.slice(1)) {\n            row.push(yy.mod(p).eq(0) ? 1 : 0);\n        }\n\n        // Verify relation\n        let curr = yy;\n        for (let j = 0; j < row.length; j++) {\n            if (row[j]) {\n                curr = curr.divide(factorBase[j]);\n            }\n        }\n        if (curr.eq(1)) {\n            x.push(xx);\n            y.push(yy);\n            mat.push(row);\n        } else {\n            bad++;\n        }\n\n        if (x.length >= maxRelations) {break;}\n    }\n\n    // Take the transpose\n    let matT = [];\n    for (let j = 0; j < mat[0].length; j++) {\n        const row = [];\n        for (let i = 0; i < mat.length; i++) {\n            row.push(mat[i][j]);\n        }\n        matT.push(row);\n    }\n\n    // Prune out unused factor base primes\n    matT = matT.filter(row => row.includes(1));\n    if (matT.length >= matT[0].length) {\n        return {bad};\n    }\n\n    return {x, y, mat: matT};\n}\n\nfunction completeFactorization(x, y, mat, N) {\n    rowReduce(mat);\n    const nullity = mat[0].length - mat.length;\n\n    for (let i = 0; i < nullity; i++) {\n        // Compute null space vector\n        const nullVec = nullSpace(mat, i);\n\n        // Get corresponding congruence of squares\n        console.log('Constructing congruence for nullspace vector ', i);\n        let a = bigInt(1);\n        let b = bigInt(1);\n        for (let i of nullVec) {\n            a = a.times(x[i]).mod(N);\n            b = b.times(y[i]);\n        }\n        a = a.abs();\n        const s = isqrt(b);\n//        console.log(s.times(s), b); // Should be equal\n        const c = s.mod(N);\n        if (a.neq(c) & a.plus(c).neq(N)) {\n            return [a, c, nullVec.length];\n        }\n    }\n    return [null, null];\n}\n\n\nfunction Linalg({open, handleClose, relations, factorBase, N, base}) {\n    const [result, setResult] = useState(null);\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        if (!open) {setResult(null); setError(false); return;}\n        setTimeout(() => {\n            const {x, y, mat, bad} = computeMatrix(relations, factorBase, N, base);\n            if (mat === undefined) {\n                setError(<>\n                    <p>{`Too many (${bad}) relations failed verification. Continue sieving.`}</p>\n                    <p>This might also happen if the cell size is too small on desktop.</p>\n                </>);\n                return;\n            }\n            const [a, b, l] = completeFactorization(x, y, mat, N);\n\n            if (a == null) {\n                setError('Failed to find a nontrivial factor! Are you sure the number is composite?');\n            } else {\n                let p = bigInt.gcd(a.plus(b), N);\n                let q = N.divide(p);\n                setResult({length: l, a, b, p, q});\n            }\n        }, 50);\n    }, [open, relations, factorBase, N, base]);\n\n    return <>\n        <div \n           className={'linalg-container ' + (open? 'open' : 'closed')}\n            onClick={handleClose}\n        >\n        <div className='linalg-text' onClick={(e) => e.stopPropagation()}>\n\n            {error ? <p>{error}</p> :\n                (result === null ? 'Constructing square congruence (may take a while)...' : <>\n                    Combining {result.length} of the relations gives the congruence\n                    <BlockMath>{`${result.a.toString()}^2`}</BlockMath>\n                    <BlockMath>{`\\\\cong ${result.b.toString()}^2 \\\\, (\\\\mathrm{mod}\\\\, N),`}</BlockMath>\n                    which produces the nontrivial factorization\n                    <BlockMath>{`N = ${result.p} \\\\times ${result.q}.`}</BlockMath>\n                </>)\n            }\n\n            <button onClick={handleClose}>Close</button>\n            \n        </div></div>\n    </>\n}\n\nexport default Linalg;\n","import fragmentShader from './build/frag.js';\nimport vertexShader from './build/vert.js';\n\nlet gl = null;\n\n\n// Textures for current and next simulation state\nlet currentState = null;\nlet nextState = null;\n\nlet framebuffer = null;\nlet program = null;\n\n// Hyperparameters of simulation\nlet state = {\n    pass: 0, // Render pass\n    baseOffset: 0, // Index offset of x_0 from start of grid\n    highlight: 0.5, // Index of square to highlight\n    highlightMod: 0, // Highlight modulo p\n    highlightAlt: 0.5, // Second residue class to highlight (optional)\n\n    logSqrtN: 0,\n    delta: 0, // x_0 - sqrt(N)\n\n    prime: 0, // which p to sieve by\n    residue: 0, // residue mod p to sieve\n};\n\n// Location of GLSL uniforms.\n// Will be initialized based on state.\nlet uniforms = {};\n\n\n// GLSL Initialization Functions\nfunction createShader(type, source) {\n    let shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    let success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (success) {return shader;}\n\n    // Log failure\n    console.error(gl.getShaderInfoLog(shader));\n    gl.deleteShader(shader);\n}\n\nfunction createProgram() {\n    let vert = createShader(gl.VERTEX_SHADER, vertexShader);\n    let frag = createShader(gl.FRAGMENT_SHADER, fragmentShader);\n\n    program = gl.createProgram();\n    gl.attachShader(program, vert);\n    gl.attachShader(program, frag);\n    gl.linkProgram(program);\n\n    let success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (success) {gl.useProgram(program);}\n\n    // Log failure\n    console.error(gl.getProgramInfoLog(program));\n    gl.deleteProgram(program);\n}\n\nfunction createScreen() {\n    // Initialize vertex position buffers\n    let positionAttr = gl.getAttribLocation(program, 'a_position');\n    let positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n    gl.enableVertexAttribArray(positionAttr);\n    gl.vertexAttribPointer(positionAttr, 2, gl.FLOAT, false, 0, 0);\n\n    // Create two triangles covering entire canvas\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n        -1, -1, 1, -1, -1, 1,\n        -1, 1, 1, -1, 1, 1\n    ]), gl.STATIC_DRAW);\n}\n\nfunction createTexture() {\n    let texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Initialize texture settings\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    return texture;\n}\n\n\nfunction createUniforms() {\n    // Initialize float uniforms\n    for (let [key, value] of Object.entries(state)) {\n        uniforms[key] = gl.getUniformLocation(program, 'u_' + key);\n        gl.uniform1f(uniforms[key], value);\n    }\n\n    // Initialize resolution uniform\n    uniforms.resolution = gl.getUniformLocation(program, 'u_resolution');\n}\n\n\n\n// GLSL Update Functions\nfunction initializeTexture(texture, width, height) {\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    console.log('Initializing texture', width, height);\n    gl.texImage2D(\n        gl.TEXTURE_2D, 0, gl.RGBA,\n        width, height, 0,\n        gl.RGBA, gl.UNSIGNED_BYTE, null);\n    gl.uniform2f(uniforms.resolution, width, height);\n}\n\nfunction setState(name, value) {\n    state[name] = value;\n    gl.uniform1f(uniforms[name], value);\n}\n\n\n\n\n// Main initialization function\nfunction initGL() {\n    if (gl !== null) {return;}\n\n    // Get WebGL context\n    const canvas = document.getElementById('canvas');\n    gl = canvas.getContext('webgl');\n\n    // Initialize program\n    createProgram();\n    createScreen();\n\n    nextState = createTexture();\n    currentState = createTexture();\n\n    framebuffer = gl.createFramebuffer();\n\n    createUniforms();\n\n    handleResize(gl.canvas.width, gl.canvas.height);\n}\n\nfunction handleResize(width, height) {\n    initializeTexture(currentState, width, height);\n    initializeTexture(nextState, width, height);\n    setState('baseOffset', Math.round(width * height / 2));\n    gl.viewport(0, 0, width, height);\n}\n\nfunction initSieve(N, base) {\n    // Initialize sieve parameters\n    const sqrtN = Math.sqrt(N);\n    const delta = base.times(base).minus(N) / (base + sqrtN); // Numerically stable computation of base - sqrt(N)\n    setState('logSqrtN', Math.log(sqrtN));\n    setState('delta', delta);\n\n    // Render to texture\n    setState('pass', 0);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.framebufferTexture2D(\n        gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0,\n        gl.TEXTURE_2D, currentState, 0\n    );\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    renderSieve();\n}\n\nfunction updateSieve(residue, prime) {\n    console.log('Sieving positions', residue, 'mod', prime);\n\n    // Render to texture\n    setState('pass', 1);\n    setState('prime', prime);\n    setState('residue', residue);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, currentState);\n    gl.framebufferTexture2D(\n        gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0,\n        gl.TEXTURE_2D, nextState, 0\n    );\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    // Swap textures\n    let temp = currentState;\n    currentState = nextState;\n    nextState = temp;\n}\n\nfunction renderSieve() {\n    // Render to screen\n    setState('pass', 2);\n    gl.bindTexture(gl.TEXTURE_2D, currentState);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n}\n\nfunction getRelations() {\n    renderSieve();\n\n    const {baseOffset} = state;\n    const {width, height} = gl.canvas;\n    const data = new Uint8Array(4*width*height);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\n    console.log(width*height, baseOffset);\n\n    const relations = [];\n    for (let i = 0; i < width*height; i++) {\n        if (data[4*i+3] < 255) {\n            relations.push(i - baseOffset);\n        }\n    }\n    return relations;\n}\n\nexport {initGL, initSieve, updateSieve, renderSieve, setState, handleResize, getRelations};\n","export default `\nattribute vec2 a_position;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n    v_texCoord = (a_position + 1.0) / 2.0;\n    gl_Position = vec4(a_position, 0, 1);\n}\n`;\n","export default `\nprecision highp float;\n\nuniform sampler2D u_prev;\nuniform vec2 u_resolution;\nuniform float u_highlight;\nuniform float u_highlightMod;\nuniform float u_highlightAlt;\n\nuniform float u_logSqrtN; // sqrt(N)\nuniform float u_delta; // x_0 - sqrt(N)\nuniform float u_baseOffset; // Index offset of x_0 from start of grid\n\nuniform float u_prime;\nuniform float u_residue;\n\nuniform float u_pass;\nvarying vec2 v_texCoord;\n\nconst float MAX_VALUE = 100.; // Maximum range of representable floats\n\n\nfloat decode(vec4 v) {\n    v *= 255.0;\n    float decoded = (v.x + (v.y + (v.z + v.w/256.0)/256.0)/256.0)/256.0;\n    return MAX_VALUE * decoded - 0.01; // Remap from [0, 1]\n}\n\nvec4 encode(float value) {\n    value = (value + 0.01) / MAX_VALUE; // Remap to [0, 1]\n\n    vec4 encoded = vec4(0.0, 0.0, 0.0, 0.0);\n    for (int i = 0; i < 4; i++) {\n        value *= 255.9999;\n        float pixel = floor(value);\n        value = fract(value);\n        encoded[i] = pixel/255.0;\n    }\n    // To account for rounding bias\n    encoded[3] += value/255.0;\n    return encoded;\n}\n\nvoid main() {\n    // Render Passes\n    // 0: Initialize sieve\n    // 1: Compute sieved result\n    // 2: Convert to brightness for display.\n    float value = decode(texture2D(u_prev, v_texCoord));\n\n    // Get number at this location\n    vec2 xy_loc = v_texCoord * u_resolution - 0.5;\n    float loc = floor(dot(xy_loc, vec2(1., u_resolution.x)) + 0.5) - u_baseOffset;\n\n    if (u_pass < 0.5) {\n        // Initialize sieve with value log(abs(x*x-n)).\n        float x_red = loc + u_delta; // x - sqrt(N)\n\n        float ratio = 0.5 * x_red * exp(-u_logSqrtN);\n        float correction = log(abs(1. + ratio));\n        float log_polyOut = log(abs(x_red)) + log(2.) + u_logSqrtN + correction;\n        gl_FragColor = encode(log_polyOut);\n        return;\n\n        // Equivalent but less numerically stable\n//        float polyOut = x * (2. * u_sqrtN + x);\n//        gl_FragColor = encode(log(abs(polyOut)));\n    }\n\n    if (u_pass < 1.5) {\n        // Sieve by provided prime and residue\n        float congClass = mod(loc - u_residue + 0.5, u_prime) - 0.5;\n        value -= log(u_prime) * clamp(1.-congClass, 0., 1.);\n        gl_FragColor = encode(value);\n        return;\n    }\n\n    // Cell highlighting\n    float alpha = 1.;\n    vec3 color;\n\n    float residue = loc;\n    if (u_highlightMod > 0.) {\n        residue = mod(residue+0.5, u_highlightMod) - 0.5;\n    }\n    float highlight_delta = loc - u_highlight;\n    bool highlight = min(abs(residue - u_highlight), abs(residue - u_highlightAlt)) < 1e-3;\n\n    // Display normal view if not highlighted\n    if (value < 0.6) {\n        color = vec3(1., 0., 0.);\n        alpha = 0.98;\n    } else {\n        color = vec3(value, value, value)/50.;\n    }\n\n    // Highlight cells\n    if (highlight) {\n        if (u_highlightMod == 0.) {\n            color = vec3(0.4, 0.6, 0.9);\n        } else {\n            color = vec3(1., 1., 1.) * (value - log(u_highlightMod))/50.;\n        }\n    }\n\n    gl_FragColor = vec4(color, alpha);\n    return;\n}\n`;\n","import React, {useState, useEffect} from 'react';\nimport bigInt from 'big-integer';\n\nimport Graphics from './components/Graphics';\nimport Controls from './components/Controls';\nimport Infobar from './components/Infobar';\nimport HelpText from './components/HelpText';\nimport Linalg from './components/Linalg';\n\nimport 'katex/dist/katex.min.css';\n\nimport {modSqrt, primeList, isqrt} from './mathUtils';\nimport {\n    initGL, initSieve,\n    updateSieve, renderSieve,\n    setState as setGLUniform,\n    handleResize,\n    getRelations\n} from './gl';\n\nimport './App.css';\n\n\n// Get residue classes to sieve\nfunction getSieve(N, p, base) {\n    const qr = modSqrt(N.mod(p), p);\n    const res = base.mod(p);\n\n    if (qr !== undefined) {\n        const t1 = ((qr - res) % p + p) % p;\n        const t2 = ((-qr - res) % p + p) % p;\n        return [t1, t2];\n    }\n\n    return [null, null];\n}\n\n// Utilities for cell highlighting\nfunction highlightOff() {\n    setGLUniform('highlight', 0.5);\n    setGLUniform('highlightAlt', 0.5);\n    setGLUniform('highlightMod', 0);\n    renderSieve();\n}\n\n\nfunction setHighlighted(x) {\n    setGLUniform('highlight', x);\n    setGLUniform('highlightAlt', x);\n    setGLUniform('highlightMod', 0);\n    renderSieve();\n}\n\n\nlet width = 1;\nlet height = 1;\n\nlet factorBase = [-1];\n\n// Main app\nfunction App() {\n    const [N, rawSetN] = useState(bigInt(0)); // Number to factor\n    const [base, setBase] = useState(bigInt(0)); // Number to factor\n    const [pIdx, setP] = useState(0); // Index of current prime to sieve\n    \n    const [cellSize, setCellSize] = useState(30);\n    const [relations, setRelations] = useState([]);\n\n    const [openLinalg, setOpenLinalg] = useState(false);\n\n    function setN(N) {\n        const base = isqrt(N);\n\n        setP(0);\n        setBase(base);\n        rawSetN(N);\n\n        setGLUniform('highlightMod', 0);\n        setTimeout(() => initSieve(N, base), 0);\n    }\n\n    function sieve(suppressRender) {\n        const p = primeList[pIdx];\n        if (factorBase.includes(p)) {return;}\n        const [t1, t2] = getSieve(N, p, base);\n\n        const readoutInterval = (cellSize < 5) ? 100 : 10;\n\n        const shouldRender = !suppressRender | (pIdx % readoutInterval === 0);\n\n        if (t1 !== null) {\n            updateSieve(t1, p);\n            if (t1 !== t2) {\n                updateSieve(t2, p);\n            }\n            factorBase.push(p);\n        }\n\n        if (shouldRender) {\n            setRelations(getRelations());\n            if (window.innerWidth > 600) {\n                highlightResidues(primeList[pIdx+1]);\n            }\n        }\n        setP(pIdx+1);\n    }\n\n\n    useEffect(() => initGL(), []);\n    useEffect(() => {\n        width = Math.ceil(4*window.innerWidth/cellSize);\n        height = Math.ceil(4*window.innerHeight/cellSize);\n        handleResize(width, height);\n        setN(N);\n    }, [cellSize, N]);\n    useEffect(() => setN(bigInt(853972440679)), []);\n    useEffect(() => {\n        setRelations([]);\n        factorBase = [-1];\n    }, [base]);\n\n\n    // Prevent zoom on mobile\n    const preventDefault = (e) => e.preventDefault();\n    function registerListener() {\n        document.addEventListener('gesturestart', preventDefault, {passive: false});\n        document.addEventListener('touchmove', preventDefault, {passive: false});\n    }\n\n\n    function highlightResidues(p) {\n        const [t1, t2] = getSieve(N, p, base);\n        if (t1 === null) {\n            highlightOff();\n            return;\n       }\n        setGLUniform('highlight', t1);\n        setGLUniform('highlightAlt', t2);\n        setGLUniform('highlightMod', p);\n        renderSieve();\n    }\n\n    return <>\n        <Graphics\n            width={width}\n            height={height}\n            base={base}\n            N={N}\n            setHighlighted={setHighlighted}\n        />\n        <Controls\n            state={{N, p: primeList[pIdx], cellSize}}\n            setN={setN}\n            sieve={sieve}\n            setHighlight={(v) => v ? highlightResidues(primeList[pIdx]) : highlightOff()}\n            setCellSize={setCellSize}\n            linalgOpen={openLinalg}\n        />\n        <Infobar\n            relations={relations}\n            factorBase={factorBase}\n            base={base}\n            shift={Math.round(width*height/2)} \n            onFinish={() => setOpenLinalg(true)}\n        />\n        <HelpText onClose={registerListener}/>\n        <Linalg\n            open={openLinalg}\n            handleClose={() => setOpenLinalg(false)}\n            relations={relations}\n            factorBase={factorBase}\n            N={N}\n            base={base}\n        />\n    </>;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}